<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>자바스크립트 - 버블링+캡쳐링 함수 기초 radio</title>
</head>
<body>
	
<form id="f">
	<input type="checkbox" id="all" onclick="agree(this.checked)"> 전체동의<br>
	이메일 약관 <input type="radio" name="a" id="a1" onclick="ok(this.name,0)">동의함 <input type="radio" name="a" id="aa1" checked onclick="ok(this.name,1)">동의 안함 <br>
	서비스 약관 <input type="radio" name="b" id="a2" onclick="ok(this.name,0)">동의함 <input type="radio" name="b" id="aa2" checked onclick="ok(this.name,1)">동의 안함 <br>
	개인정보서비스 약관 <input type="radio" name="c" id="a3" onclick="ok(this.name,0)">동의함 <input type="radio" name="c" id="aa3" checked onclick="ok(this.name,1)">동의 안함 <br>
</form>

</body>
<script>
	function ok(name,node){	//해당 오브젝트의 name값과 node번호(배열)
		var nm = document.getElementsByName(name);	//name으로 확인하는 파트
		if(node==1){	//동의안함
			document.getElementById("all").checked = false;	
		}else{
			var w = 1;
			var count = 0;
			while(w<=3){
				if(document.getElementById("a"+w).checked == true){
					count++;
				}
				w++;
			}
			if(count == 3){
				document.getElementById("all").checked = true;
			}
			
		}
		//nm[node].checked = true;
	}
	function agree(e){
		var w = 1;
		var check = true;
		do{
			if(e == check){
				document.getElementById("a" + w).checked = e;
				
			}else{
				document.getElementById("aa" + w).checked = check;
			}
			w++;
		}while(w <= 3);
		
	}
	
</script>
</html>